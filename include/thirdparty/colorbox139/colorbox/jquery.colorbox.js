(function(b,D,ea){function d(a,x,d){a=D.createElement(a);x&&(a.id=r+x);d&&(a.style.cssText=d);return b(a)}function M(a){var b=m.length;a=(q+a)%b;return 0>a?b+a:a}function k(a,b){return Math.round((/%/.test(a)?("x"===b?e.width():e.height())/100:1)*parseInt(a,10))}function fa(h){return a.photo||/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i.test(h)}function ga(){var h,x=b.data(n,s);null==x?(a=b.extend({},R),console&&console.log&&console.log("Error: cboxElement missing settings object")):a=b.extend({},
x);for(h in a)b.isFunction(a[h])&&"on"!==h.slice(0,2)&&(a[h]=a[h].call(n));a.rel=a.rel||n.rel||b(n).data("rel")||"nofollow";a.href=a.href||b(n).attr("href");a.title=a.title||n.title;"string"===typeof a.href&&(a.href=b.trim(a.href))}function B(a,x){b.event.trigger(a);x&&x.call(n)}function la(){var h,b=r+"Slideshow_",d="click."+r,c,f;a.slideshow&&m[1]?(c=function(){F.html(a.slideshowStop).unbind(d).bind(S,function(){if(a.loop||m[q+1])h=setTimeout(g.next,a.slideshowSpeed)}).bind(T,function(){clearTimeout(h)}).one(d+
" "+N,f);l.removeClass(b+"off").addClass(b+"on");h=setTimeout(g.next,a.slideshowSpeed)},f=function(){clearTimeout(h);F.html(a.slideshowStart).unbind([S,T,N,d].join(" ")).one(d,function(){g.next();c()});l.removeClass(b+"on").addClass(b+"off")},a.slideshowAuto?c():f()):l.removeClass(b+"off "+b+"on")}function U(h){if(!O){n=h;ga();m=b(n);q=0;"nofollow"!==a.rel&&(m=b("."+E).filter(function(){var h=b.data(this,s),d;h&&(d=b(this).data("rel")||h.rel||this.rel);return d===a.rel}),q=m.index(n),-1===q&&(m=m.add(n),
q=m.length-1));if(!v){v=G=!0;l.show();if(a.returnFocus)b(n).blur().one(ha,function(){b(this).focus()});y.css({opacity:+a.opacity,cursor:a.overlayClose?"pointer":"auto"}).show();a.w=k(a.initialWidth,"x");a.h=k(a.initialHeight,"y");g.position();H&&e.bind("resize."+P+" scroll."+P,function(){y.css({width:e.width(),height:e.height(),top:e.scrollTop(),left:e.scrollLeft()})}).trigger("resize."+P);B(ia,a.onOpen);V.add(W).hide();X.html(a.close).show()}g.load(!0)}}function ja(){!l&&D.body&&(Y=!1,e=b(ea),l=
d(c).attr({id:s,"class":I?r+(H?"IE6":"IE"):""}).hide(),y=d(c,"Overlay",H?"position:absolute":"").hide(),Z=d(c,"LoadingOverlay").add(d(c,"LoadingGraphic")),C=d(c,"Wrapper"),u=d(c,"Content").append(p=d(c,"LoadedContent","width:0; height:0; overflow:hidden"),W=d(c,"Title"),$=d(c,"Current"),J=d(c,"Next"),K=d(c,"Previous"),F=d(c,"Slideshow").bind(ia,la),X=d(c,"Close")),C.append(d(c).append(d(c,"TopLeft"),aa=d(c,"TopCenter"),d(c,"TopRight")),d(c,!1,"clear:left").append(ba=d(c,"MiddleLeft"),u,ca=d(c,"MiddleRight")),
d(c,!1,"clear:left").append(d(c,"BottomLeft"),da=d(c,"BottomCenter"),d(c,"BottomRight"))).find("div div").css({"float":"left"}),L=d(c,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),V=J.add(K).add($).add(F),b(D.body).append(y,l.append(C,L)))}function ma(){return l?(Y||(Y=!0,z=aa.height()+da.height()+u.outerHeight(!0)-u.height(),A=ba.width()+ca.width()+u.outerWidth(!0)-u.width(),t=p.outerHeight(!0),w=p.outerWidth(!0),l.css({"padding-bottom":z,"padding-right":A}),J.click(function(){g.next()}),
K.click(function(){g.prev()}),X.click(function(){g.close()}),y.click(function(){a.overlayClose&&g.close()}),b(D).bind("keydown."+r,function(h){var b=h.keyCode;v&&a.escKey&&27===b&&(h.preventDefault(),g.close());v&&a.arrowKey&&m[1]&&(37===b?(h.preventDefault(),K.click()):39===b&&(h.preventDefault(),J.click()))}),b(D).delegate("."+E,"click",function(a){1<a.which||a.shiftKey||a.altKey||a.metaKey||(a.preventDefault(),U(this))})),!0):!1}var R={transition:"elastic",speed:300,width:!1,initialWidth:"600",
innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:0.9,preloading:!0,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",
slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0},s="colorbox",r="cbox",E=r+"Element",ia=r+"_open",T=r+"_load",S=r+"_complete",N=r+"_cleanup",ha=r+"_closed",Q=r+"_purge",I=!b.support.opacity&&!b.support.style,H=I&&!ea.XMLHttpRequest,P=r+"_IE6",y,l,C,u,aa,ba,ca,da,m,e,p,L,Z,W,$,F,J,K,X,V,a,z,A,t,w,n,q,f,v,G,O,ka,g,c="div",Y;b.colorbox||(b(ja),g=b.fn[s]=b[s]=function(a,
d){var c=this;a=a||{};ja();if(ma()){if(!c[0]){if(c.selector)return c;c=b("<a/>");a.open=!0}d&&(a.onComplete=d);c.each(function(){b.data(this,s,b.extend({},b.data(this,s)||R,a))}).addClass(E);(b.isFunction(a.open)&&a.open.call(c)||a.open)&&U(c[0])}return c},g.position=function(b,d){function c(a){aa[0].style.width=da[0].style.width=u[0].style.width=a.style.width;u[0].style.height=ba[0].style.height=ca[0].style.height=a.style.height}var f,m=f=0,p=l.offset(),q,n;e.unbind("resize."+r);l.css({top:-9E4,
left:-9E4});q=e.scrollTop();n=e.scrollLeft();a.fixed&&!H?(p.top-=q,p.left-=n,l.css({position:"fixed"})):(f=q,m=n,l.css({position:"absolute"}));m=!1!==a.right?m+Math.max(e.width()-a.w-w-A-k(a.right,"x"),0):!1!==a.left?m+k(a.left,"x"):m+Math.round(Math.max(e.width()-a.w-w-A,0)/2);f=!1!==a.bottom?f+Math.max(e.height()-a.h-t-z-k(a.bottom,"y"),0):!1!==a.top?f+k(a.top,"y"):f+Math.round(Math.max(e.height()-a.h-t-z,0)/2);l.css({top:p.top,left:p.left});b=l.width()===a.w+w&&l.height()===a.h+t?0:b||0;C[0].style.width=
C[0].style.height="9999px";f={width:a.w+w,height:a.h+t,top:f,left:m};0===b&&l.css(f);l.dequeue().animate(f,{duration:b,complete:function(){c(this);G=!1;C[0].style.width=a.w+w+A+"px";C[0].style.height=a.h+t+z+"px";a.reposition&&setTimeout(function(){e.bind("resize."+r,g.position)},1);d&&d()},step:function(){c(this)}})},g.resize=function(b){v&&(b=b||{},b.width&&(a.w=k(b.width,"x")-w-A),b.innerWidth&&(a.w=k(b.innerWidth,"x")),p.css({width:a.w}),b.height&&(a.h=k(b.height,"y")-t-z),b.innerHeight&&(a.h=
k(b.innerHeight,"y")),b.innerHeight||b.height||(p.css({height:"auto"}),a.h=p.height()),p.css({height:a.h}),g.position("none"===a.transition?0:a.speed))},g.prep=function(h){function n(){a.w=a.w||p.width();a.w=a.mw&&a.mw<a.w?a.mw:a.w;return a.w}function e(){a.h=a.h||p.height();a.h=a.mh&&a.mh<a.h?a.mh:a.h;return a.h}if(v){var k,t="none"===a.transition?0:a.speed;p.remove();p=d(c,"LoadedContent").append(h);p.hide().appendTo(L.show()).css({width:n(),overflow:a.scrolling?"auto":"hidden"}).css({height:e()}).prependTo(u);
L.hide();b(f).css({"float":"none"});if(H)b("select").not(l.find("select")).filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one(N,function(){this.style.visibility="inherit"});k=function(){function c(){I&&l[0].style.removeAttribute("filter")}var g,h;g=m.length;var k,n,e;if(v){n=function(){clearTimeout(ka);Z.detach().hide();B(S,a.onComplete)};I&&f&&p.fadeIn(100);W.html(a.title).add(p).show();if(1<g){if("string"===typeof a.current&&$.html(a.current.replace("{current}",
q+1).replace("{total}",g)).show(),J[a.loop||q<g-1?"show":"hide"]().html(a.next),K[a.loop||q?"show":"hide"]().html(a.previous),a.slideshow&&F.show(),a.preloading)for(g=[M(-1),M(1)];h=m[g.pop()];)(e=b.data(h,s))&&e.href?(e=e.href,b.isFunction(e)&&(e=e.call(h))):e=h.href,fa(e)&&(h=new Image,h.src=e)}else V.hide();a.iframe?(k=d("iframe")[0],"frameBorder"in k&&(k.frameBorder=0),"allowTransparency"in k&&(k.allowTransparency="true"),a.scrolling||(k.scrolling="no"),b(k).attr({src:a.href,name:(new Date).getTime(),
"class":r+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",n).one(Q,function(){k.src="//about:blank"}).appendTo(p),a.fastIframe&&b(k).trigger("load")):n();"fade"===a.transition?l.fadeTo(t,1,c):c()}};"fade"===a.transition?l.fadeTo(t,0,function(){g.position(0,k)}):g.position(t,k)}},g.load=function(h){var e,l,s=g.prep;G=!0;f=!1;n=m[q];h||ga();B(Q);B(T,a.onLoad);a.h=a.height?k(a.height,"y")-t-z:a.innerHeight&&k(a.innerHeight,"y");a.w=a.width?k(a.width,"x")-w-A:a.innerWidth&&
k(a.innerWidth,"x");a.mw=a.w;a.mh=a.h;a.maxWidth&&(a.mw=k(a.maxWidth,"x")-w-A,a.mw=a.w&&a.w<a.mw?a.w:a.mw);a.maxHeight&&(a.mh=k(a.maxHeight,"y")-t-z,a.mh=a.h&&a.h<a.mh?a.h:a.mh);e=a.href;ka=setTimeout(function(){Z.show().appendTo(u)},100);a.inline?(d(c).hide().insertBefore(b(e)[0]).one(Q,function(){b(this).replaceWith(p.children())}),s(b(e))):a.iframe?s(" "):a.html?s(a.html):fa(e)?(b(f=new Image).addClass(r+"Photo").error(function(){a.title=!1;s(d(c,"Error").html(a.imgError))}).load(function(){var b;
f.onload=null;a.scalePhotos&&(l=function(){f.height-=f.height*b;f.width-=f.width*b},a.mw&&f.width>a.mw&&(b=(f.width-a.mw)/f.width,l()),a.mh&&f.height>a.mh&&(b=(f.height-a.mh)/f.height,l()));a.h&&(f.style.marginTop=Math.max(a.h-f.height,0)/2+"px");m[1]&&(a.loop||m[q+1])&&(f.style.cursor="pointer",f.onclick=function(){g.next()});I&&(f.style.msInterpolationMode="bicubic");setTimeout(function(){s(f)},1)}),setTimeout(function(){f.src=e},1)):e&&L.load(e,a.data,function(f,e){s("error"===e?d(c,"Error").html(a.xhrError):
b(this).contents())})},g.next=function(){!G&&m[1]&&(a.loop||m[q+1])&&(q=M(1),g.load())},g.prev=function(){!G&&m[1]&&(a.loop||q)&&(q=M(-1),g.load())},g.close=function(){v&&!O&&(O=!0,v=!1,B(N,a.onCleanup),e.unbind("."+r+" ."+P),y.fadeTo(200,0),l.stop().fadeTo(300,0,function(){l.add(y).css({opacity:1,cursor:"auto"}).hide();B(Q);p.remove();setTimeout(function(){O=!1;B(ha,a.onClosed)},1)}))},g.remove=function(){b([]).add(l).add(y).remove();l=null;b("."+E).removeData(s).removeClass(E);b(D).undelegate("."+
E)},g.element=function(){return b(n)},g.settings=R,g.launch=U)})(jQuery,document,window);